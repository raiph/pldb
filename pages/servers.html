<!DOCTYPE html><html lang="en"><meta charset="utf-8"></meta>
<title>About our servers</title>
<script>/* This HTML was generated by 📜 Scroll v71.5.0. http://scroll.pub */</script>
<style>@media print {.doNotPrint {display: none !important;}}</style>
<link rel="canonical" href="https://pldb.com/pages/servers.html"></link>
<meta charset="iso-8859-1"></meta>
<meta name="viewport" content="width=device-width,initial-scale=1"></meta>
<meta name="description" content="PLDB: a Programming Language Database. Build the next great programming language."></meta>
<meta name="generator" content="Scroll v71.5.0"></meta>
<meta property="og:title" content="About our servers"></meta>
<meta property="og:description" content="PLDB: a Programming Language Database. Build the next great programming language."></meta>
<meta property="og:image" content=""></meta>
<meta name="twitter:card" content="summary_large_image"></meta>

<link rel="stylesheet" type="text/css" href="../combined.css"></link>
<div class="trueBaseThemeHeader">
 <a href="../index.html" class="trueBaseThemeLogo">PLDB</a>
 <form style="display:inline-block;" method="get" action="/fullTextSearch">
  <input type="search" id="trueBaseThemeHeaderSearch" name="q" placeholder="Search" autocomplete="off"></input>
</form>
 <a href="../csv.html">Questions</a>
 <a href="../queries/all.html">Concepts</a>
</div>
<a class="trueBaseThemeGitHubTopRight" href="https://github.com/breck7/pldb"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12  5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422  18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305  3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0  1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12  3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0  .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

<div class="scrollKeyboardNav" style="display:none;"><a href="the-rankings-algorithm.html">the-rankings-algorithm.html</a> · servers.html · <a href="join.html">join.html</a><script>document.addEventListener('keydown', function(event) {
  if (document.activeElement !== document.body) return
  const getLinks = () => document.getElementsByClassName("scrollKeyboardNav")[0].getElementsByTagName("a")
  if (event.key === "ArrowLeft")
    getLinks()[0].click()
  else if (event.key === "ArrowRight")
    getLinks()[1].click()
 });</script></div>
<div class="scrollSection"><h1 class="scrollTitle"><a href="servers.html">About our servers</a></h1>
</div>
<p class="scrollParagraph">You can download all the <a href="https://github.com/breck7/pldb">source code</a> for this site from Github and browse it completely offline.</p>
<div class="scrollSection"><div class="scrollSection"><h1 class="scrollParagraph">Domains and DNS</h1>
<p class="scrollParagraph">Most PLDB domains are registered with <a href="https://domains.google/">Google Domains</a> and PLDB uses Google Domains and <a href="https://www.digitalocean.com/">Digital Ocean</a> for DNS.</p>
</div></div>
<div class="scrollSection"><div class="scrollSection"><h1 class="scrollParagraph">Express app</h1>
<p class="scrollParagraph">This site is served using Node.js and Express running on a Digital Ocean droplet named <code>marconi</code>. SSL certificates are generated using certbot.</p>
</div></div>
<div class="scrollSection"><h2 class="scrollParagraph">Analytics</h2>
<p class="scrollParagraph">This site does not use cookies or include any tracking scripts. Server logs are kept and used primarily for catching broken links, broken scripts, and other QA. If you need even more privacy, you can run the site locally or on your own servers.</p>
</div>
<p class="scrollParagraph">You can view <a href="https://pldb.com/traffic.html">traffic</a> reports from <a href="https://goaccess.io/">GoAccess</a>. GoAccess runs every hour thanks to the <code>cron</code> job listed below.</p>
<div class="scrollSection"><h2 class="scrollParagraph"><strong>Marconi</strong> Droplet Setup</h2>
<code class="scrollCodeBlock">apt update
apt upgrade
apt install git cloc goaccess
curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n
bash n lts
# Now node and npm are available
npm install -g n
npm install -g pm2 typescript jtree
# Generate keys
# ssh-keygen -t rsa
# Get pldb
# git clone git@github.com:breck7/pldb.git
git clone https://github.com/breck7/pldb
cd pldb
npm install .
npm run tsc
# Test that it works over http
node ./PLDB.js startDevServer 80
# Now get SSL cert for https
snap install core
snap refresh core
snap install --classic certbot
certbot certonly --standalone
mkdir ignore
cp /etc/letsencrypt/live/pldb.com/privkey.pem ignore
cp /etc/letsencrypt/live/pldb.com/fullchain.pem ignore
# Now start with pm2 over http2
pm2 start ./PLDB.js -- startProdServer
pm2 startup systemd</code>
</div>
<code class="scrollCodeBlock"># add the server stats cron job below with:
crontab -e
service cron restart
# uncomment the cron line and point the log to /root/pldb/site/cron.log
vim /etc/rsyslog.d/50-default.conf
service rsyslog restart
service cron restart</code>
<code class="scrollCodeBlock">0 * * * * /root/pldb/code/updateStats.sh >> /root/pldb/site/cron.log  2>&1</code>
<div class="scrollSection"><h2 class="scrollParagraph">Deploying Marconi Server</h2>
<code class="scrollCodeBlock">ssh root@pldb.com
cd pldb
git pull
npm install .
npm run tsc
pm2 restart 0</code>
</div>
<div class="scrollSection"><h2 class="scrollParagraph">Logo and favicons</h2>
<p class="scrollParagraph">Favicon designed with <a href="https://formito.com/tools/favicon">this</a> and favicon files generated with <a href="https://favicon.io/">this</a>.</p>
</div>
<p class="scrollViewSource doNotPrint">
 <a href="https://github.com/breck7/pldb/blob/main/site/pages/servers.scroll">View source</a>
</p>

<script>
document.addEventListener("DOMContentLoaded", () => document.querySelectorAll(".scrollCodeBlock").forEach(block =>
 {
  if (!navigator.clipboard) return
  const button = document.createElement("span")
  button.classList.add("scrollCopyButton")
  block.appendChild(button)
  button.addEventListener("click", async () => {
    await navigator.clipboard.writeText(block.innerText)
    button.classList.add("scrollCopiedButton")
  })
 }
))
</script>


<style>/* Index page */
.pldbHomepageLink a{
  color: #000;
}
.newPostLink {
 display: block;
 line-height: 1.3em;
}
.singleColumn {
 max-width: 500px;
 margin: auto;
}
.hasFeature {
  color: green;
}
.doesNotHaveFeature {
  color: red;
}
.keywordsBlock .scrollCodeBlock {
  white-space: normal;
}
#monacoContainer {
  display: block;
  height: 10em;
  border: 1px solid grey;
  margin-top: 8px;
}
li.scrollParagraph {
 margin: 0;
}</style>
<div class="trueBaseThemeFooter">
 <a href="../index.html" class="trueBaseThemeLogo">PLDB</a>
 <span>- Build the next great programming language</span>
 <span>·</span>
 <a href="../search.html">Search</a>
 <span>·</span>
 <a href="../create.html">Add Language</a>
 <span>·</span>
 <a href="../lists/features.html">Features</a>
 <span>·</span>
 <a href="../lists/creators.html">Creators</a>
 <span>·</span>
 <a href="../lists/resources.html">Resources</a>
 <span>·</span>
 <a href="../pages/about.html">About</a>
 <span>·</span>
 <a href="../posts/index.html">Blog</a>
 <span>·</span>
 <a href="../pages/acknowledgements.html">Acknowledgements</a>
 <span>·</span>
 <a href="../queries.html">Queries</a>
 <span>·</span>
 <a href="../stats.html">Stats</a>
 <span>·</span>
 <a href="../pages/sponsor.html">Sponsor</a>
 <span>·</span>
 <a href="https://pldb.com/traffic.html">Traffic</a>
 <span>·</span>
 <a href="https://pldb.com/trafficToday.html">Traffic Today</a>
 <span>·</span>
 <a href="https://github.com/breck7/pldb/commits/main">Day 435</a>
 <span>·</span>
 <a href="mailto:feedback@pldb.com">feedback@pldb.com</a>
 <span>·</span>
 <a style="display:none;" href="../loginOrJoin.html" class="notLoggedIn">Login</a>
 <a onclick="new TrueBaseBrowserApp().logoutCommand()" class="loggedIn" id="logoutButton" href="#">Logout</a>
</div>

<script src="../combined.js" defer></script>
<script>document.addEventListener("DOMContentLoaded", () => new TrueBaseBrowserApp().render().revealUserAccountButtons())</script></html>